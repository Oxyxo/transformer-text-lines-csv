<!DOCTYPE html>
<!-- Author: Oxana Bulanova, 2019 time 70 min 19.5.19 -->
<html>
  <head>
  <meta charset="UTF-8">
    <title>CAT price transformer</title>
  </head>
  <body>
  <!-- Submit your file and click Run -->
    <input type="file" id="fileinput" />

    <button type="button" id="run">Run</button>
   
    <script type="text/javascript">
      document.getElementById('fileinput').addEventListener('change', readfile, false);
      document.getElementById('run').addEventListener('click', run, false);
      
      var content = ""
      // Readfile reads the input file from the fileinput element and stores its content inside the content variable
      function readfile(event) {
        var file = event.target.files[0];
        if (!file){
            alert("Failed to load file");
            return
        }

        var reader = new FileReader();
        reader.onload = function(event) {
          alert("I managed to read your file");
          content = event.target.result;
      
          //console.log(content.length);
        }
        // Building up a reader line by line from a file
        reader.readAsText(file);
      }
      function run() {
        var lines = content.split('\n');
        for(var index = 0; index < lines.length; index++) {
          var line = lines[index];
          console.log(line);
          console.log(line.length);
          // Here i see for group 1 is 72 characters, group 2 has 80 characters length
        }
      }
      // Validate no single/ zero items in $ fields/prices
    </script>
  </body>
</html>